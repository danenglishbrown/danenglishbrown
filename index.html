<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Daniel English‑Brown | Lead Web Developer &amp; Theoretical Physicist</title>
    <!-- Font Awesome and Google Fonts -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /*
         * This updated stylesheet addresses:
         *  1. Testimonial scroll indicators with fade effects on mobile
         *  2. Mobile navbar background fix in light mode when scrolled
         *  3. Mobile navbar stationary positioning (doesn't move with main navbar)
         */

        :root {
            --primary-bg: #0a0e1a;
            --secondary-bg: #1a1f35;
            --accent-bg: #2d3748;
            --primary-text: #e2e8f0;
            --secondary-text: #a0aec0;
            --accent-color: #6fa9d8;
            --accent-hover: #3182ce;
            --success-color: #38bb6f;
            --warning-color: #ed8936;
            --border-color: #2d3748;
            --gradient-1: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-2: linear-gradient(135deg, #4299e1 0%, #667eea 100%);
            --card-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2);
        }

        [data-theme="light"] {
            --primary-bg: #f7fafc;
            --secondary-bg: #ffffff;
            --accent-bg: #edf2f7;
            --primary-text: #1a202c;
            --secondary-text: #4a5568;
            --accent-color: #3182ce;
            --accent-hover: #2c5aa0;
            --border-color: #e2e8f0;
            --card-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.05);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--primary-bg);
            color: var(--primary-text);
            line-height: 1.6;
            transition: all 0.3s ease;
            overflow-x: hidden;
        }

        /* Physics Equations Background */
        .physics-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            opacity: 0.1;
            overflow: hidden;
            pointer-events: none;
        }

        .equation {
            position: absolute;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2rem;
            color: var(--accent-color);
            white-space: nowrap;
            animation: floatEquation 20s linear infinite;
        }

        [data-theme="light"] .equation {
            opacity: 0.1;
        }

        @keyframes floatEquation {
            from {
                transform: translateX(-100px) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            to {
                transform: translateX(calc(100vw + 100px)) rotate(360deg);
                opacity: 0;
            }
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.1;
        }

        .particle {
            position: absolute;
            background: var(--accent-color);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg) scale(1); }
            33% { transform: translateY(-20px) rotate(120deg) scale(1.1); }
            66% { transform: translateY(10px) rotate(240deg) scale(0.9); }
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(26, 31, 53, 0.95);
            backdrop-filter: blur(20px);
            z-index: 1000;
            padding: 1rem 0;
            transition: all 0.3s ease;
            border-bottom: 1px solid var(--border-color);
        }

        [data-theme="light"] nav {
            background: rgba(255, 255, 255, 0.95);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
          display: inline-flex;
          align-items: center;
          gap: .5rem;
        }
        
        .logo-img {
          height: 80px;               /* adjust to suit your navbar */
          width: auto;
          margin-top: -20px;
          margin-bottom: -20px;
          image-rendering: pixelated;  /* crisp 8-bit look */
          image-rendering: crisp-edges;
          -ms-interpolation-mode: nearest-neighbor;
        }
        
        /* Default (light) shows light logo, dark logo hidden */
        .logo-dark { display: none; }
        
        /* When your JS toggles data-theme, flip them */
        [data-theme="dark"] .logo-light { display: none; }
        [data-theme="dark"] .logo-dark  { display: inline; }

        .logo:hover {
            transform: scale(1.05);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.5rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--primary-text);
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--accent-color);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--accent-color);
        }

        .theme-toggle {
            background: none;
            border: 2px solid var(--accent-color);
            color: var(--accent-color);
            padding: 0.7rem;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .theme-toggle:hover {
            background: var(--accent-color);
            color: var(--secondary-bg);
            transform: rotate(180deg) scale(1.1);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 2rem;
            position: relative;
        }

        .hero-content h1 {
            font-size: 4.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: fadeInUp 1s ease;
        }

        .hero-content .subtitle {
            font-size: 1.6rem;
            color: var(--secondary-text);
            margin-bottom: 2rem;
            font-family: 'JetBrains Mono', monospace;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .hero-content p {
            font-size: 1.3rem;
            max-width: 700px;
            margin: 0 auto 3rem;
            line-height: 1.8;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .cta-buttons {
            display: flex;
            gap: 1.5rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease 0.6s both;
        }

        .btn {
            padding: 1.2rem 2.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: 0.7rem;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--gradient-2);
            color: white;
            box-shadow: var(--card-shadow);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 30px 35px -5px rgba(0, 0, 0, 0.4);
        }

        .btn-secondary {
            background: transparent;
            color: var(--accent-color);
            border: 2px solid var(--accent-color);
        }

        .btn-secondary:hover {
            background: var(--accent-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Sections */
        section {
            padding: 8rem 0;
            max-width: 1200px;
            margin: 0 auto;
            padding-left: 2rem;
            padding-right: 2rem;
        }

        .section-title {
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 4px;
            background: var(--gradient-2);
            border-radius: 2px;
        }

        /* About Section */
        .read-more-container {
            position: relative;
        }

        .about-text-wrapper {
            position: relative;
            overflow: hidden;
        }

        .about-text {
            font-size: 1.2rem;
            line-height: 1.7;
            color: var(--primary-text);
        }

        .about-text p {
            margin-bottom: 1.2rem;
        }

        .about-text p:last-child {
            margin-bottom: 0;
        }

        .about-text.collapsed {
            max-height: 120px;
            overflow: hidden;
        }

        .about-text-fade {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 40px; /* Slightly taller fade */
            background: linear-gradient(to top, var(--primary-bg) 0%, transparent 100%);
            pointer-events: none;
            z-index: 5;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .about-text.collapsed ~ .about-text-fade {
            opacity: 1;
        }

        [data-theme="light"] .about-text-fade {
            background: linear-gradient(to top, var(--secondary-bg) 0%, transparent 100%);
        }

        .read-more-btn {
            position: relative;
            z-index: 10;
            margin-top: 1.5rem;
            display: inline-block;
            background: var(--gradient-2);
            color: white;
            border: none;
            padding: 1rem 2.2rem; /* Increased padding for larger button */
            border-radius: 30px; /* Slightly larger border radius */
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: var(--card-shadow);
            font-size: 1.1rem; /* Larger font size */
            min-height: 50px; /* Minimum height for better touch targets */
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
        }

        .read-more-btn:hover {
            transform: translateY(-3px); /* Slightly more lift on hover */
            box-shadow: 0 15px 25px rgba(0, 0, 0, 0.3);
            background: var(--gradient-1); /* Different gradient on hover for visual feedback */
        }

        .read-more-btn i {
            font-size: 1.1rem; /* Larger icon */
            transition: transform 0.3s ease;
        }

        .read-more-btn:hover i {
            transform: translateY(2px); /* Animate icon on hover */
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 5rem;
            align-items: center;
        }

        .about-image {
            text-align: center;
        }

        .profile-placeholder {
            width: 350px;
            height: 350px;
            border-radius: 50%;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
            color: white;
            margin: 0 auto;
            box-shadow: var(--card-shadow);
            transition: transform 0.3s ease;
        }

        .profile-image {
            width: 350px;
            height: 350px;
            border-radius: 50%;
        }

        .profile-placeholder:hover {
            transform: scale(1.05) rotate(5deg);
        }

        .about-text {
            font-size: 1.2rem;
            line-height: 1.8;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .stat-item {
            text-align: center;
            padding: 2rem;
            background: var(--secondary-bg);
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .stat-item:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-color);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Skills Section - 2x2 GRID */
        .skills-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2.5rem;
        }

        .skill-category {
            background: var(--secondary-bg);
            padding: 2.5rem;
            border-radius: 15px;
            box-shadow: var(--card-shadow);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .skill-category:hover {
            transform: translateY(-8px);
        }

        .skill-category h3 {
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            color: var(--accent-color);
            display: flex;
            align-items: center;
            gap: 0.7rem;
        }

        .skill-list {
            list-style: none;
        }

        .skill-list li {
            padding: 0.7rem 0;
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .skill-list li:hover {
            color: var(--accent-color);
            padding-left: 1rem;
        }

        .skill-list li:last-child {
            border-bottom: none;
        }

        /* Projects Section */
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2.5rem;
        }

        .project-card {
            background: var(--secondary-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--card-shadow);
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .project-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 35px 40px -5px rgba(0, 0, 0, 0.4);
        }

        .project-header {
            padding: 2rem;
            background: var(--gradient-2);
            color: white;
        }

        .project-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .project-type {
            font-size: 1rem;
            opacity: 0.9;
            font-family: 'JetBrains Mono', monospace;
        }

        .project-content {
            padding: 2rem;
        }

        .project-description {
            margin-bottom: 1.5rem;
            line-height: 1.7;
        }

        .project-tech {
            display: flex;
            flex-wrap: wrap;
            gap: 0.7rem;
            margin-bottom: 1.5rem;
        }

        .tech-tag {
            background: var(--accent-bg);
            color: var(--accent-color);
            padding: 0.5rem 1rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tech-tag:hover {
            background: var(--accent-color);
            color: white;
            transform: scale(1.1);
        }

        /* Testimonials Section */
        .testimonials {
            background: var(--secondary-bg);
            border-radius: 20px;
            padding: 4rem 2rem;
            margin: 4rem 0;
            overflow: hidden;
            position: relative;
            user-select: none;
        }

        .testimonials-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: var(--accent-color);
        }

        .testimonials-carousel {
            position: relative;
            height: 300px;
            overflow: hidden;
        }

        .testimonial-track {
            display: flex;
            transition: transform 0.5s ease;
            height: 100%;
        }

        .testimonial-card {
            min-width: 100%;
            display: flex;
            align-items: center;
            gap: 3rem;
            padding: 2rem;
        }

        .testimonial-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--gradient-1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            flex-shrink: 0;
        }

        .testimonial-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
        }

        .testimonial-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .testimonial-text-container {
            position: relative;
            /* margin-bottom: 1rem; */
        }

        .testimonial-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 1rem;
            font-style: italic;
            transition: all 0.4s ease;
        }

        .testimonial-author-info {
            margin-top: auto;
        }

        .testimonial-author {
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
        }

        .testimonial-role {
            color: var(--secondary-text);
            font-size: 0.9rem;
        }

        /* Hide read more buttons globally */
        .testimonial-read-more {
            display: none !important;
        }

        .carousel-controls {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
        }

        .carousel-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.2rem;
        }

        .carousel-btn:hover {
            background: var(--accent-hover);
            transform: scale(1.1);
        }

        .carousel-indicators {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: var(--accent-color);
            transform: scale(1.2);
        }

        /* Timer Progress Indicator */
        .timer-progress {
            position: absolute;
            bottom: 0;
            left: 0;
            height: 3px;
            background: var(--accent-color);
            transition: width 0.1s ease;
            opacity: 0.7;
        }

        /* Mobile Scroll Indicators for Testimonials */
        .scroll-fade-top, .scroll-fade-bottom {
            position: absolute;
            left: 0;
            width: 100%;
            height: 20px;
            pointer-events: none;
            z-index: 10;
            transition: opacity 0.3s ease;
            opacity: 0;
        }

        .scroll-fade-top {
            top: 0;
            background: linear-gradient(to bottom, var(--secondary-bg), transparent);
        }

        .scroll-fade-bottom {
            bottom: 0;
            background: linear-gradient(to top, var(--secondary-bg) 60%, transparent 100%);
            height: 35px;
            opacity: 0;
        }

        .scroll-fade-bottom.visible {
            opacity: 1; /* Maximum opacity */
        }

        .scroll-fade-top.visible {
            opacity: 0.8;
        }

        [data-theme="light"] .scroll-fade-top {
            background: linear-gradient(to bottom, var(--secondary-bg), transparent);
        }

        [data-theme="light"] .scroll-fade-bottom {
            background: linear-gradient(to top, var(--secondary-bg), transparent);
        }

        /* Contact Section */
        .contact-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 4rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 1.5rem;
            border-radius: 15px;
            background: var(--secondary-bg);
            min-width: 200px;
        }

        .contact-item:hover {
            color: var(--accent-hover);
            transform: translateY(-5px);
            box-shadow: var(--card-shadow);
        }

        .contact-item i {
            font-size: 2rem;
        }

        /* Footer */
        footer {
            background: var(--secondary-bg);
            padding: 3rem 0;
            text-align: center;
            border-top: 1px solid var(--border-color);
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-link {
            color: var(--accent-color);
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 1.5rem;
        }

        .footer-link:hover {
            color: var(--accent-hover);
            transform: scale(1.2);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            opacity: 0;
            animation: fadeInUp 0.8s ease forwards;
        }

        /* Interactive Elements */
        .interactive-hover {
            transition: all 0.3s ease;
        }

        .interactive-hover:hover {
            transform: scale(1.05);
        }

        /* Loading Animation */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top: 4px solid var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Navbar scroll behavior */
        nav.hidden {
            transform: translateY(-100%);
        }

        .hamburger span {
            width: 100%;
            height: 3px;
            background: var(--accent-color);
            border-radius: 10px;
            transition: all 0.3s linear;
            position: relative;
            transform-origin: 1px;
        }

        .nav-links.mobile-open {
            transform: translateX(0%);
        }

        .physics-bg .equation.derivation {
            font-size: 1rem;
            color: var(--success-color);
            opacity: 0.7;
        }

        nav.scrolled {
            background: rgba(26, 31, 53, 0.98) !important;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        [data-theme="light"] nav.scrolled {
            background: rgba(26, 31, 53, 0.98) !important;
        }

        [data-theme="light"] nav.scrolled .nav-links a {
            color: white;
        }

        [data-theme="light"] nav.scrolled .logo {
            color: white;
        }

        [data-theme="light"] nav.scrolled .hamburger span {
            background: white;
        }

        /* Read More Styles */
        .read-more-content {
            overflow: hidden;
            position: relative;
        }

        .read-more-content.collapsed {
            max-height: 120px;
        }

        .read-more-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 60px;
            background: linear-gradient(transparent, var(--primary-bg));
            display: none;
            pointer-events: none;
            z-index: 1;
        }

        .read-more-content.collapsed + .read-more-overlay {
            display: block;
        }

        .read-more-btn {
            background: var(--gradient-2);
            color: white;
            border: none;
            padding: 0.8rem 1.8rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 1.5rem;
            display: inline-block;
            transition: all 0.3s ease;
            box-shadow: var(--card-shadow);
            z-index: 2;
            position: relative;
        }

        .read-more-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .hamburger {
            display: none;
            flex-direction: column;
            justify-content: space-around;
            width: 30px;
            height: 25px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            z-index: 1002;
            position: relative;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .about-image {
                padding-top:30px;
                padding-bottom:30px;
            }

            .hamburger {
                display: flex;
                position: fixed !important;
                top: 1.5rem;
                right: 2rem;
                z-index: 1002;
                background: transparent;
                border: none;
                cursor: pointer;
                padding: 0;
            }

            /* Ensure hamburger is always visible regardless of navbar state */
            nav.hidden + .hamburger,
            nav.hidden .hamburger {
                display: flex !important;
                position: fixed !important;
                top: 1.5rem !important;
                right: 2rem !important;
                z-index: 1002 !important;
            }

            .nav-links {
              position: fixed;
              top: 0;
              right: 0;
              width: 70%;
              /* use dynamic viewport so it accounts for the iOS URL bar */
              height: 100dvh;               /* modern iOS/Android */
              min-height: 100vh;            /* fallback */
              background: rgba(26,31,53,0.98);
              backdrop-filter: blur(20px);
              display: flex;
              flex-direction: column;
              overflow-y: auto;
              -webkit-overflow-scrolling: touch; /* smooth iOS scrolling */
            
              /* add extra bottom room so the last item (theme toggle) clears the URL bar */
              padding: 5rem 2rem calc(env(safe-area-inset-bottom) + 120px) 2rem;
            
              transform: translateX(100%);
              transition: transform 0.3s ease-in-out;
              box-shadow: -5px 0 15px rgba(0,0,0,0.1);
              z-index: 1001;
            }

            /* Fix for light mode mobile navbar background */
            [data-theme="light"] .nav-links {
                background: rgba(26, 31, 53, 0.98); /* Always use dark background for mobile menu */
            }

            .nav-links a {
                color: white !important; /* Always white text in mobile menu */
                font-size: 1.2rem;
                padding: 0.8rem 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-links a:hover {
                color: var(--accent-color) !important;
            }

            .nav-links.mobile-open {
                transform: translateX(0%);
            }

            /* Hamburger animation when menu is open */
            .hamburger.active span:nth-child(1) {
                transform: rotate(45deg) translate(5px, 5px);
            }

            .hamburger.active span:nth-child(2) {
                opacity: 0;
                transform: translateX(-10px);
            }

            .hamburger.active span:nth-child(3) {
                transform: rotate(-45deg) translate(7px, -6px);
            }

            /* Ensure hamburger spans are always visible */
            .hamburger span {
                transition: all 0.3s ease;
                background: var(--accent-color) !important;
            }

            nav.scrolled .hamburger span {
                background: white !important;
            }

            [data-theme="light"] nav.scrolled .hamburger span {
                background: white !important;
            }

            /* Push the last item (theme toggle) to the bottom on mobile */
            .nav-links li:last-child {
              margin-top: auto;
              border: none;
              padding-bottom: calc(env(safe-area-inset-bottom) + 80px);
            }

            .nav-links li {
                margin: 0.5rem 0;
                border: none;
            }

            .theme-toggle {
                border-color: white;
                color: white;
                margin-top: 2rem;
            }

            .theme-toggle:hover {
                background: white;
                color: rgba(26, 31, 53, 0.98);
            }

            /* Fix hero title on mobile */
            .hero-content h1 {
                font-size: 2.5rem;
                word-wrap: break-word;
                padding: 0 1rem;
            }

            .hero-content .subtitle {
                font-size: 1.2rem;
            }

            .about-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 3rem;
            }

            .profile-placeholder {
                width: 250px;
                height: 250px;
                font-size: 3.5rem;
            }

            .contact-info {
                flex-direction: column;
                gap: 2rem;
            }

            section {
                padding: 5rem 1rem;
            }

            /* Skills grid - single column on mobile */
            .skills-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            /* Projects grid - single column on mobile */
            .projects-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .project-card {
                min-width: 100%;
            }

            .read-more-btn {
                padding: 1.2rem 2.5rem; /* Even larger on mobile for better touch */
                font-size: 1.2rem;
                min-height: 55px;
            }

            .read-more-btn i {
                font-size: 1.2rem;
            }

            .about-text {
                font-size: 1.1rem;
                line-height: 1.7;
            }

            /* Mobile testimonials styling */
            .testimonials-carousel {
                height: auto;
                min-height: 400px;
                overflow: hidden;
            }

            .testimonial-track {
                width: 100%;
            }

            .testimonial-card {
                flex-direction: column;
                text-align: center;
                align-items: center;
                padding: 1.5rem;
                min-height: auto;
                justify-content: flex-start;
                overflow: hidden;
                width: 100%;
                box-sizing: border-box;
                min-width: 100%;
                max-width: 100%;
                flex: 0 0 100%;
            }

            .testimonial-content {
                width: 100%;
                display: flex;
                flex-direction: column;
                height: auto;
            }

            .testimonial-text-container {
                position: relative;
                margin-bottom: 1rem;
            }

            .testimonial-text {
                font-size: 1rem;
                flex: 0 0 auto;
                overflow-y: auto;
                max-height: 200px;
                margin-bottom: 0.5rem;
                padding-right: 10px;
                -ms-overflow-style: none;
                scrollbar-width: none;
            }

            .testimonial-text::-webkit-scrollbar {
                display: none;
            }

            .timer-progress {
                height: 4px;
                border-radius: 2px;
            }

            .testimonial-author-info {
                margin-top: 1rem;
            }

            .testimonials {
                overflow: hidden;
            }

            .section-title {
                font-size: 2.5rem;
            }
        }

        /* Desktop testimonial text should always be visible (no collapsing) */
        @media (min-width: 769px) {
            .testimonial-text {
                overflow: visible;
                max-height: none;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="loading-spinner"></div>
    </div>

    <!-- Physics Equations Background -->
    <div class="physics-bg" id="physicsBg"></div>

    <!-- Animated Background -->
    <div class="bg-animation" id="bgAnimation"></div>

    <!-- Navigation -->
    <nav id="navbar">
        <div class="nav-container">
            <a class="logo" href="#home" aria-label="Daniel English-Brown home">
              <img class="logo-img logo-light" src="static/lightmode-logo.png" alt="D.E-B logo">
              <img class="logo-img logo-dark"  src="static/lightmode-logo.png"  alt="" aria-hidden="true">
            </a>
            <button class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-links" id="navLinks">
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#skills">Skills</a></li>
                <li><a href="#projects">Projects</a></li>
                <li><a href="#testimonials">Reviews</a></li>
                <li><a href="#contact">Contact</a></li>
                <li><button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1>Daniel English‑Brown</h1>
            <p class="subtitle">Full‑stack Web Developer • Theoretical Physics MSc Student</p>
            <div class="cta-buttons">
                <a href="#projects" class="btn btn-primary">
                    <i class="fas fa-rocket"></i> View Projects
                </a>
                <a href="#contact" class="btn btn-secondary">
                    <i class="fas fa-envelope"></i> Get In Touch
                </a>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="fade-in">
        <h2 class="section-title">About Me</h2>
        <div class="about-content">
            <div class="about-image">
                <div class="profile-placeholder interactive-hover">
                    <img src="static/pfp.jpg" class="profile-image" alt="Daniel English‑Brown">
                </div>
            </div>
            <div class="read-more-container">
                <div class="about-text-wrapper">
                    <div class="about-text read-more-content collapsed" id="aboutText">
                        <p>I am a full-stack web developer, theoretical physics master's student with a particular interest in quantum computing and quantitative finance.</p>
                        <p>My experience spans developing software to model the behaviour of light, quantitative research at a London hedge fund and full-stack web development.</p>
                        <p>Alongside my MSc in theoretical physics at King's College London, I am the lead web developer at Expendid, a fintech finance tracker for freelancers, where I architected the advanced web application for the launch of the Expendid app.</p>
                    </div>
                    <div class="about-text-fade"></div>
                </div>
                <button class="read-more-btn" id="readMoreBtn">
                    <i class="fas fa-chevron-down"></i> Read More
                </button>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item interactive-hover">
                <div class="stat-number">1510</div>
                <div>SAT Score (99th percentile)</div>
            </div>
            <div class="stat-item interactive-hover">
                <div class="stat-number">5+</div>
                <div>Programming Languages</div>
            </div>
            <div class="stat-item interactive-hover">
                <div class="stat-number">2026</div>
                <div>MSc Graduation</div>
            </div>
            <div class="stat-item interactive-hover">
                <div class="stat-number">3</div>
                <div>Languages (English, French and Chinese)</div>
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills" class="fade-in">
        <h2 class="section-title">Technical Expertise</h2>
        <div class="skills-grid">
            <div class="skill-category">
                <h3><i class="fas fa-code"></i> Web Development</h3>
                <ul class="skill-list">
                    <li>Python (Flask, Django)</li>
                    <li>JavaScript (React, Node.js)</li>
                    <li>HTML/CSS (Responsive Design)</li>
                    <li>Database Management</li>
                    <li>UI/UX Design</li>
                </ul>
            </div>
            <div class="skill-category">
                <h3><i class="fas fa-chart-line"></i> Quantitative Finance</h3>
                <ul class="skill-list">
                    <li>Black‑Scholes &amp; Binomial Models</li>
                    <li>Portfolio Optimization (CVXPY)</li>
                    <li>Risk Analysis &amp; Assessment</li>
                    <li>Derivatives Valuation</li>
                    <li>Financial Time Series</li>
                </ul>
            </div>
            <div class="skill-category">
                <h3><i class="fas fa-atom"></i> Computational Physics</h3>
                <ul class="skill-list">
                    <li>FDTD Electromagnetic Simulation</li>
                    <li>Finite Difference Methods</li>
                    <li>Numerical Analysis</li>
                    <li>Scientific Computing</li>
                    <li>Data Visualization</li>
                </ul>
            </div>
            <div class="skill-category">
                <h3><i class="fas fa-tools"></i> Development Tools</h3>
                <ul class="skill-list">
                    <li>Git &amp; Version Control</li>
                    <li>LaTeX &amp; Technical Writing</li>
                    <li>Microsoft Office</li>
                    <li>MATLAB &amp; Python</li>
                    <li>Docker &amp; Deployment</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="fade-in">
        <h2 class="section-title">Featured Projects</h2>
        <div class="projects-grid">
            <div class="project-card">
                <div class="project-header">
                    <div class="project-title">Expendid Finance Platform</div>
                    <div class="project-type">Lead Web Developer • Current Role</div>
                </div>
                <div class="project-content">
                    <p class="project-description">
                        Leading development of an AI‑powered finance management platform for freelancers, featuring responsive design, real‑time analytics, and comprehensive backend architecture.
                    </p>
                    <div class="project-tech">
                        <span class="tech-tag">Flask</span>
                        <span class="tech-tag">JavaScript</span>
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">AI Integration</span>
                        <span class="tech-tag">Fintech</span>
                    </div>
                </div>
            </div>

            <div class="project-card">
                <div class="project-header">
                    <div class="project-title">FDTD Electromagnetic Simulation</div>
                    <div class="project-type">Computational Physics • First Class</div>
                </div>
                <div class="project-content">
                    <p class="project-description">
                        Developed a comprehensive Finite Difference Time Domain software for computational electrodynamics, featuring planar‑graded index lenses, photonic crystals, and invisibility cloak simulations.
                    </p>
                    <div class="project-tech">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">NumPy</span>
                        <span class="tech-tag">Matplotlib</span>
                        <span class="tech-tag">Numerical Analysis</span>
                    </div>
                </div>
            </div>

            <div class="project-card">
                <div class="project-header">
                    <div class="project-title">Quantitative Trading Models</div>
                    <div class="project-type">Finance • Perbak Capital Partners</div>
                </div>
                <div class="project-content">
                    <p class="project-description">
                        Implemented Black‑Scholes and binomial option pricing models, developed market‑neutral portfolios using convex optimization, and analyzed non‑normal return distributions.
                    </p>
                    <div class="project-tech">
                        <span class="tech-tag">Python</span>
                        <span class="tech-tag">CVXPY</span>
                        <span class="tech-tag">Financial Modeling</span>
                        <span class="tech-tag">Risk Analysis</span>
                    </div>
                </div>
            </div>

            <div class="project-card">
                <div class="project-header">
                    <div class="project-title">Girls Robotics Challenge</div>
                    <div class="project-type">STEM Education • Team Mentor</div>
                </div>
                <div class="project-content">
                    <p class="project-description">
                        Led and mentored a team of eight students in the UK's inaugural all‑girls national robotics competition, guiding them through design, programming, and project management.
                    </p>
                    <div class="project-tech">
                        <span class="tech-tag">BBC micro:bit</span>
                        <span class="tech-tag">Robotics</span>
                        <span class="tech-tag">Team Leadership</span>
                        <span class="tech-tag">STEM Education</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="fade-in">
        <h2 class="section-title">Client Reviews &amp; Testimonials</h2>
        <div class="testimonials">
            <div class="testimonials-carousel">
                <div class="testimonial-track" id="testimonialTrack">
                    <!-- Testimonial 1 -->
                    <div class="testimonial-card">
                        <div class="testimonial-avatar">
                            <img class="testimonial-image" src="static/mintu-pfp.jpg" alt="Mintu Sidhu">
                        </div>
                        <div class="testimonial-content">
                            <div class="testimonial-text-container">
                                <div class="scroll-fade-top" id="scrollFadeTop1"></div>
                                <p class="testimonial-text" id="testimonialText1">
                                    "Working with Daniel was an absolute pleasure. He took my vision and turned it into a beautiful, functional, and professional website that I'm proud to share. The entire process was seamless, and their expertise was evident from start to finish. I've already seen an increase in customer engagement. Highly recommend!"
                                </p>
                                <div class="scroll-fade-bottom" id="scrollFadeBottom1"></div>
                            </div>
                            <div class="testimonial-author-info">
                                <div class="testimonial-author">Mintu Sidhu</div>
                                <div class="testimonial-role">Founder, Expendid Fintech Application</div>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 2 -->
                    <div class="testimonial-card">
                        <div class="testimonial-avatar">
                            <img src="static/joao-pfp.jpeg" class="testimonial-image" alt="João Dibo">
                        </div>
                        <div class="testimonial-content">
                            <div class="testimonial-text-container">
                                <div class="scroll-fade-top" id="scrollFadeTop2"></div>
                                <p class="testimonial-text" id="testimonialText2">
                                    "During his internship, Daniel demonstrated exceptional initiative and a positive attitude. He quickly grasped new concepts in finance that I taught him and was not afraid to ask questions, showing a great commitment thoroughly completing his tasks. We are a hedge fund and operate under a fast-paced environment, and he was able to adapt and integrated well into the team. I highly recommend Daniel without reservation."
                                </p>
                                <div class="scroll-fade-bottom" id="scrollFadeBottom2"></div>
                            </div>
                            <div class="testimonial-author-info">
                                <div class="testimonial-author">João Dibo</div>
                                <div class="testimonial-role">Analyst, Perbak Capital Partners</div>
                            </div>
                        </div>
                    </div>

                    <!-- Testimonial 3 -->
                    <div class="testimonial-card">
                        <div class="testimonial-avatar">
                            <img src="static/paco.png" class="testimonial-image" alt="Dr. Francisco Rodrigo Fortuno">
                        </div>
                        <div class="testimonial-content">
                            <div class="testimonial-text-container">
                                <div class="scroll-fade-top" id="scrollFadeTop3"></div>
                                <p class="testimonial-text" id="testimonialText3">
                                    "Daniel was a fantastic presence in our project team. He consistently brought enthusiasm, reliability, and a real sense of collaboration. Not only did he successfully implement a working finite difference solver for electromagnetic equations, but he also naturally took the lead in organising meetings, setting deadlines, and keeping everyone on track, which helped the group perform at its best. His commitment and leadership skills were top of the team, and his positive attitude made working with him a real pleasure. I'm confident these qualities will shine in any future project he takes on."
                                </p>
                                <div class="scroll-fade-bottom" id="scrollFadeBottom3"></div>
                            </div>
                            <div class="testimonial-author-info">
                                <div class="testimonial-author">Dr. Francisco Rodrigo Fortuno</div>
                                <div class="testimonial-role" style="padding-bottom: 15px;">Lecturer in Nanophotonics, King's College London</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="timer-progress" id="timerProgress"></div>
            </div>

            <div class="carousel-controls">
                <button class="carousel-btn" id="prevBtn">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="carousel-btn" id="nextBtn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <div class="carousel-indicators" id="indicators">
                <div class="indicator active" data-index="0"></div>
                <div class="indicator" data-index="1"></div>
                <div class="indicator" data-index="2"></div>
                <!-- <div class="indicator" data-index="3"></div>
                <div class="indicator" data-index="4"></div> -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="fade-in">
        <h2 class="section-title">Get In Touch</h2>
        <div class="contact-content">
            <p>Interested in collaboration, web development projects, PhD opportunities, or quantitative finance roles? Let's discuss how we can work together.</p>

            <div class="contact-info">
                <a href="mailto:danielenglish.zim13@gmail.com" class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>Email Me</span>
                </a>
                <a href="https://www.linkedin.com/in/daniel-english-brown/" class="contact-item" target="_blank">
                    <i class="fab fa-linkedin"></i>
                    <span>LinkedIn</span>
                </a>
            </div>

            <div class="cv-download" style="margin-top: 3rem;">
                <a href="#" class="btn btn-primary" id="downloadCV">
                    <i class="fas fa-download"></i> Download CV
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <div class="footer-links">
                <a href="https://github.com/studentdevzimbabwe" class="footer-link" target="_blank" title="GitHub">
                    <i class="fab fa-github"></i>
                </a>
                <a href="https://www.linkedin.com/in/daniel-english-brown/" class="footer-link" target="_blank" title="LinkedIn">
                    <i class="fab fa-linkedin"></i>
                </a>
                <a href="mailto:danielenglish.zim13@gmail.com" class="footer-link" title="Email">
                    <i class="fas fa-envelope"></i>
                </a>
                <!-- <a href="#" class="footer-link" title="Research Gate">
                    <i class="fab fa-researchgate"></i>
                </a> -->
            </div>
            <p>&copy; <span id="currentYear"></span> Daniel English‑Brown. Built with passion for physics and code.</p>
        </div>
    </footer>

    <script>
        // Enhanced physics equations list
        const physicsEquations = [
            "∇ × E = -∂B/∂t",
            "∇ × B = μ₀J + μ₀ε₀∂E/∂t",
            "∇ · E = ρ/ε₀",
            "∇ · B = 0",
            "ψ(x,t) = Ae^(i(kx-ωt))",
            "Ĥψ = Eψ",
            "E = mc²",
            "F = ma",
            "∫₀^∞ e^(-x²)dx = √π/2",
            "S = k ln Ω",
            "dS/dt ≥ 0",
            "∂S/∂E = 1/T",
            "Black-Scholes: ∂V/∂t + ½σ²S²∂²V/∂S² + rS∂V/∂S - rV = 0",
            "P(A|B) = P(B|A)P(A)/P(B)",
            "∑ᵢ pᵢ = 1",
            "⟨x⟩ = ∫ x|ψ(x)|²dx",
            "F = G(m₁m₂)/r²",
            "E = hf = hc/λ",
            "λ = h/p",
            "ΔxΔp ≥ ℏ/2",
            "ψₙ(x) = √(2/L) sin(nπx/L)",
            "aₙ = √(2/π)∫ψ(x)sin(nx)dx",
            "T = 2π√(L/g)",
            "F = q(E + v × B)",
            "I = ∫J·dA",
            "∮B·dl = μ₀I_enc",
            "Φ = ∫B·dA",
            "ε = -dΦ/dt",
            "∇²ψ + (2m/ℏ²)(E - V)ψ = 0",
            "ρ = |ψ|²",
            "⟨A⟩ = ∫ψ*Âψ dx"
        ];

        // Typewriter effect for subtitle
        function typeWriter(element, text, speed = 80) {
            let i = 0;
            element.innerHTML = '';
            function type() {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                    setTimeout(type, speed);
                }
            }
            setTimeout(type, 2000);
        }

        // Mobile testimonial scroll indicator functionality
        function setupTestimonialScrollIndicators() {
            if (window.innerWidth > 768) return;

            const testimonialTexts = document.querySelectorAll('.testimonial-text');

            testimonialTexts.forEach((text, index) => {
                const topFade = document.getElementById(`scrollFadeTop${index + 1}`);
                const bottomFade = document.getElementById(`scrollFadeBottom${index + 1}`);

                if (!topFade || !bottomFade) return;

                function updateScrollIndicators() {
                    const scrollTop = text.scrollTop;
                    const scrollHeight = text.scrollHeight;
                    const clientHeight = text.clientHeight;
                    const scrollBottom = scrollHeight - scrollTop - clientHeight;

                    if (scrollTop > 5) {
                        topFade.classList.add('visible');
                    } else {
                        topFade.classList.remove('visible');
                    }

                    if (scrollBottom > 5) {
                        bottomFade.classList.add('visible');
                    } else {
                        bottomFade.classList.remove('visible');
                    }
                }

                text.addEventListener('scroll', updateScrollIndicators);
                setTimeout(updateScrollIndicators, 100);
            });
        }

        class TestimonialCarousel {
            constructor() {
                this.testimonialTrack = document.getElementById('testimonialTrack');
                this.timerProgress = document.getElementById('timerProgress');
                this.indicators = document.querySelectorAll('.indicator');
                this.testimonials = document.querySelector('.testimonials');
                this.testimonialTexts = document.querySelectorAll('.testimonial-text');
                this.nextBtn = document.getElementById('nextBtn');
                this.prevBtn = document.getElementById('prevBtn');

                this.currentTestimonial = 0;
                this.totalTestimonials = this.indicators.length;
                this.isUserInteracting = false;
                this.isPaused = false;
                this.isPressed = false;
                this.TIMER_DURATION = 6000;

                this.carouselTimer = null;
                this.progressTimer = null;
                this.startTime = 0;
                this.progressAtPause = 0;

                this.init();
            }

            init() {
                this.setupEventListeners();
                this.startTimer();
                setupTestimonialScrollIndicators();
            }

            setupEventListeners() {
                this.nextBtn.addEventListener('click', (e) => this.handleNavigation(e, 'next'));
                this.prevBtn.addEventListener('click', (e) => this.handleNavigation(e, 'prev'));

                this.indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', (e) => this.handleNavigation(e, 'goto', index));
                });

                const pressStart = (e) => {
                    e.preventDefault();
                    this.isPressed = true;
                    this.isUserInteracting = true;
                    this.pauseTimer();
                };
                const pressEnd = (e) => {
                    this.isPressed = false;
                    this.isUserInteracting = false;
                    this.resumeTimer();
                };

                this.testimonials.addEventListener('mousedown', pressStart);
                this.testimonials.addEventListener('mouseup', pressEnd);
                this.testimonials.addEventListener('mouseleave', (e) => {
                    if (this.isPressed) pressEnd(e);
                });
                this.testimonials.addEventListener('touchstart', pressStart, { passive: true });
                this.testimonials.addEventListener('touchend', pressEnd, { passive: true });
                this.testimonials.addEventListener('touchcancel', pressEnd, { passive: true });

                this.testimonials.addEventListener('contextmenu', (e) => {
                    if (this.isPressed) e.preventDefault();
                });
            }

            handleNavigation(e, direction, index = null) {
                e.preventDefault();
                if (direction === 'next') {
                    this.nextTestimonial();
                } else if (direction === 'prev') {
                    this.prevTestimonial();
                } else if (direction === 'goto' && index !== null) {
                    this.showTestimonial(index);
                }
                this.progressAtPause = 0;
                this.startTimer();
                setupTestimonialScrollIndicators();
            }

            startTimer() {
                this.clearTimers();
                this.isPaused = false;
                this.startTime = Date.now() - this.progressAtPause;

                this.carouselTimer = setTimeout(() => {
                    if (!this.isUserInteracting && !this.isPaused) {
                        this.nextTestimonial();
                    }
                    this.progressAtPause = 0;
                    this.startTimer();
                }, this.TIMER_DURATION - this.progressAtPause);

                this.progressTimer = setInterval(() => {
                    this.updateProgressBar();
                }, 50);
            }

            pauseTimer() {
                if (!this.isPaused) {
                    this.isPaused = true;
                    this.progressAtPause = Date.now() - this.startTime;
                    this.clearTimers();
                }
            }

            resumeTimer() {
                if (this.isPaused) {
                    this.isPaused = false;
                    this.startTimer();
                }
            }

            clearTimers() {
                if (this.carouselTimer) {
                    clearTimeout(this.carouselTimer);
                    this.carouselTimer = null;
                }
                if (this.progressTimer) {
                    clearInterval(this.progressTimer);
                    this.progressTimer = null;
                }
            }

            updateProgressBar() {
                if (this.isPaused || this.isUserInteracting) return;
                const elapsed = Date.now() - this.startTime;
                const progress = Math.min((elapsed / this.TIMER_DURATION) * 100, 100);
                this.timerProgress.style.width = `${progress}%`;
            }

            nextTestimonial() {
                this.currentTestimonial = (this.currentTestimonial + 1) % this.totalTestimonials;
                this.showTestimonial(this.currentTestimonial);
            }

            prevTestimonial() {
                this.currentTestimonial = (this.currentTestimonial - 1 + this.totalTestimonials) % this.totalTestimonials;
                this.showTestimonial(this.currentTestimonial);
            }

            showTestimonial(index) {
                this.currentTestimonial = index;
                const translateX = -index * 100;
                this.testimonialTrack.style.transform = `translateX(${translateX}%)`;
                this.indicators.forEach((indicator, i) => {
                    indicator.classList.toggle('active', i === index);
                });
                this.timerProgress.style.width = '0%';
                this.startTime = Date.now();
                setupTestimonialScrollIndicators();
            }
        }

        // Mobile menu functionality
        function setupMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const navLinks = document.getElementById('navLinks');
            const navLinksItems = document.querySelectorAll('.nav-links a');
            
            if (!hamburger || !navLinks) return;

            // Toggle mobile menu
            function toggleMobileMenu() {
                navLinks.classList.toggle('mobile-open');
                hamburger.classList.toggle('active');
                document.body.style.overflow = navLinks.classList.contains('mobile-open') ? 'hidden' : '';
            }

            // Close mobile menu
            function closeMobileMenu() {
                navLinks.classList.remove('mobile-open');
                hamburger.classList.remove('active');
                document.body.style.overflow = '';
            }

            // Hamburger click event
            hamburger.addEventListener('click', toggleMobileMenu);

            // Close menu when clicking on links
            navLinksItems.forEach(link => {
                link.addEventListener('click', closeMobileMenu);
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (!navLinks.contains(e.target) && !hamburger.contains(e.target) && navLinks.classList.contains('mobile-open')) {
                    closeMobileMenu();
                }
            });

            // Close menu on escape key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && navLinks.classList.contains('mobile-open')) {
                    closeMobileMenu();
                }
            });

            // Handle window resize
            window.addEventListener('resize', () => {
                if (window.innerWidth > 768 && navLinks.classList.contains('mobile-open')) {
                    closeMobileMenu();
                }
            });
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Remove loading screen
            setTimeout(() => {
                const loading = document.getElementById('loading');
                if (loading) {
                    loading.style.opacity = '0';
                    setTimeout(() => loading.remove(), 500);
                }
            }, 1000);

            // Initialize mobile menu
            setupMobileMenu();

            // Initialize typing effect for subtitle
            const subtitleEl = document.querySelector('.hero-content .subtitle');
            const originalSubtitle = subtitleEl.textContent;
            typeWriter(subtitleEl, originalSubtitle, 60);

            // Animate counters when about section comes into view
            const aboutSection = document.getElementById('about');
            const statsObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        animateCounters();
                        statsObserver.unobserve(entry.target);
                    }
                });
            });
            statsObserver.observe(aboutSection);

            // Initialize testimonial carousel
            new TestimonialCarousel();

            // Theme toggle functionality
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = themeToggle.querySelector('i');

            themeToggle.addEventListener('click', () => {
                const currentTheme = document.body.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.body.setAttribute('data-theme', newTheme);
                themeIcon.className = newTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';
                localStorage.setItem('theme', newTheme);
            });

            // Load saved theme
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.body.setAttribute('data-theme', savedTheme);
            themeIcon.className = savedTheme === 'dark' ? 'fas fa-moon' : 'fas fa-sun';

            // Navbar scroll behavior
            let lastScrollY = window.scrollY;
            const navbar = document.getElementById('navbar');
            window.addEventListener('scroll', () => {
                if (window.scrollY > 100) {
                    navbar.classList.add('scrolled');
                } else {
                    navbar.classList.remove('scrolled');
                }
                if (window.scrollY > lastScrollY && window.scrollY > 100) {
                    navbar.classList.add('hidden');
                } else {
                    navbar.classList.remove('hidden');
                }
                lastScrollY = window.scrollY;
            });

            // About section read more functionality
            const readMoreBtn = document.getElementById('readMoreBtn');
            const aboutText = document.getElementById('aboutText');
            if (readMoreBtn && aboutText) {
                // Function to check if read more is needed
                const checkReadMoreNeeded = () => {
                    // Temporarily remove collapsed class to measure full height
                    aboutText.classList.remove('collapsed');
                    const fullHeight = aboutText.scrollHeight;
                    const lineHeight = parseInt(getComputedStyle(aboutText).lineHeight);
                    const maxCollapsedHeight = 6 * lineHeight; // Show about 6 lines
                    
                    // Re-add collapsed class
                    aboutText.classList.add('collapsed');
                    
                    // Only show button if content is taller than collapsed height
                    if (fullHeight > maxCollapsedHeight) {
                        readMoreBtn.style.display = 'inline-flex';
                    } else {
                        readMoreBtn.style.display = 'none';
                        aboutText.classList.remove('collapsed'); // Show full content
                    }
                };
                
                // Initialize on load
                setTimeout(checkReadMoreNeeded, 100);
                
                // Also check on window resize
                window.addEventListener('resize', checkReadMoreNeeded);
                
                // Read more/less functionality
                readMoreBtn.addEventListener('click', () => {
                    aboutText.classList.toggle('collapsed');
                    
                    // Update button text and icon with smooth animation
                    if (aboutText.classList.contains('collapsed')) {
                        readMoreBtn.innerHTML = '<i class="fas fa-chevron-down"></i> Read More';
                        readMoreBtn.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            readMoreBtn.style.transform = 'scale(1)';
                        }, 150);
                    } else {
                        readMoreBtn.innerHTML = '<i class="fas fa-chevron-up"></i> Read Less';
                        readMoreBtn.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            readMoreBtn.style.transform = 'scale(1)';
                        }, 150);
                    }
                    
                    // Smooth scroll to keep button in view when expanding
                    if (!aboutText.classList.contains('collapsed')) {
                        readMoreBtn.scrollIntoView({ 
                            behavior: 'smooth', 
                            block: 'nearest',
                            inline: 'nearest'
                        });
                    }
                });
                
                // Add click animation to button
                readMoreBtn.addEventListener('mousedown', () => {
                    readMoreBtn.style.transform = 'scale(0.9)';
                });
                
                readMoreBtn.addEventListener('mouseup', () => {
                    readMoreBtn.style.transform = 'scale(1)';
                });
                
                readMoreBtn.addEventListener('mouseleave', () => {
                    readMoreBtn.style.transform = 'scale(1)';
                });
            }

            // CV Download functionality
            const downloadCV = document.getElementById('downloadCV');
            if (downloadCV) {
                downloadCV.addEventListener('click', (e) => {
                    e.preventDefault();
                    // Correct path based on your file structure
                    const cvUrl = 'static/Daniel_English-Brown_CV.pdf';
                    
                    // Try to download, with fallback to opening in new tab
                    try {
                        const link = document.createElement('a');
                        link.href = cvUrl;
                        link.download = 'Daniel_English-Brown_CV.pdf';
                        link.target = '_blank';
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                    } catch (error) {
                        console.error('Download failed:', error);
                        // Fallback: open in new tab
                        window.open(cvUrl, '_blank');
                    }
                });
            }

            // Physics equations background
            const physicsBg = document.getElementById('physicsBg');
            if (physicsBg) {
                function createEquation() {
                    const eq = document.createElement('div');
                    eq.className = 'equation';
                    eq.textContent = physicsEquations[Math.floor(Math.random() * physicsEquations.length)];
                    eq.style.top = Math.random() * 100 + '%';
                    eq.style.animationDelay = Math.random() * 20 + 's';
                    eq.style.animationDuration = (15 + Math.random() * 15) + 's';
                    eq.style.fontSize = (0.8 + Math.random() * 0.8) + 'rem';
                    eq.style.opacity = 0.1 + Math.random() * 0.3;
                    physicsBg.appendChild(eq);
                    setTimeout(() => {
                        if (eq.parentNode === physicsBg) physicsBg.removeChild(eq);
                    }, 35000);
                }
                for (let i = 0; i < 15; i++) {
                    setTimeout(createEquation, i * 1000);
                }
                setInterval(createEquation, 2000);
            }

            // Particle background animation
            const bgAnimation = document.getElementById('bgAnimation');
            if (bgAnimation) {
                function createParticle() {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    const size = Math.random() * 4 + 1;
                    particle.style.width = size + 'px';
                    particle.style.height = size + 'px';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 8 + 's';
                    particle.style.animationDuration = (4 + Math.random() * 6) + 's';
                    particle.style.opacity = 0.1 + Math.random() * 0.2;
                    bgAnimation.appendChild(particle);
                    setTimeout(() => {
                        if (particle.parentNode === bgAnimation) bgAnimation.removeChild(particle);
                    }, 15000);
                }
                for (let i = 0; i < 20; i++) {
                    setTimeout(createParticle, i * 300);
                }
                setInterval(createParticle, 500);
            }

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                });
            });

            // Intersection Observer for fade‑in animations
            const fadeElements = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animationPlayState = 'running';
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            fadeElements.forEach(el => {
                el.style.animationPlayState = 'paused';
                observer.observe(el);
            });

            // Add click effects to interactive elements
            document.querySelectorAll('.interactive-hover').forEach(element => {
                element.addEventListener('click', function() {
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                });
            });

            // Enhanced skill category interactions
            document.querySelectorAll('.skill-category').forEach(category => {
                category.addEventListener('mouseenter', function() {
                    this.style.background = 'var(--accent-bg)';
                });
                category.addEventListener('mouseleave', function() {
                    this.style.background = 'var(--secondary-bg)';
                });
            });
            
            console.log('Portfolio website initialized successfully!');
        });

        // Animate counters function
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            counters.forEach(counter => {
                const target = +counter.textContent.replace(/[^0-9]/g, '');
                const duration = 1500;
                let start = null;
                function step(timestamp) {
                    if (!start) start = timestamp;
                    const progress = Math.min((timestamp - start) / duration, 1);
                    counter.textContent = Math.floor(progress * target);
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    } else {
                        counter.textContent = target;
                    }
                }
                window.requestAnimationFrame(step);
            });
        }

        // Set Current Year for the Copyright
        document.getElementById('currentYear').textContent = new Date().getFullYear();
    </script>
</body>
</html>
